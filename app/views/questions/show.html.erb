<div class="row">
  <h1 class="center"><%= @question.title %></h1>
</div>
<div id="question" class="row">
  <div class="row">
    <h3 class="subheader"><%= @question.title %></h3>
    <h6 class="subheader">Asked by <%= @question.user.email %> at: <%= @question.created_at.strftime("%A %B %-d at %I:%m") %></h6>
  </div>
  <div class="row">
    <p><%= @question.content %>
  </div>
  <div class="row">
    <%= link_to "Answer",
                new_answer_path(question_id: @question.id),
                id: "answer-button",
                remote: true %> ||
    <%= link_to "Improve this question",
                new_comment_path(commentable_id: @question.id, commentable_type: "Question"),
                id: "question-comment-button",
                class: "comment-button",
                remote: true %>
  </div>
  <br>
  <div id="question-comment-list" class='row'>
    <% @question.comments.each do |comment| %>
      <%= render 'comments/comment', object: comment %>
    <% end %>
  </div>
  <div class='row'><hr class='min_margin'></div>
</div>

<div id="form" class="row"></div>
<section id="answer-list" class="answers">
  <% @question.answers.each do |answer| %>
    <p><%= answer.content %></p>
    <p>
      Answered by <%= answer.user.email %> <%= answer.created_at.strftime("Answered on %A %B %-d at %I:%m") %> 
    </p>
    <p><%= link_to 'Upvote', votes_path(vote: {answer_id: answer.id}), method: 'post', class: "button" %> Number of votes: <%= answer.votes.count %>
    </p>  
    <p><%= link_to "Comment", new_comment_path(commentable_id: answer.id, commentable_type: "Answer"), class: "comment-button", remote: true %></p> 
    
    <section id="answer-comment-list-<%= answer.id %>" class="comments">
      <% answer.comments.each do |comment| %>
        <p><%= comment.content %></p>
        <p>
          Posted by <%= comment.user.email %> <%= comment.created_at.strftime("Posted on %A %B %-d at %I:%m") %> 
        </p>
      <% end %>
    </section>

  <% end %>

</section>